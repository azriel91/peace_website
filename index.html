<!DOCTYPE html>
<html lang="en">

<head>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QVELB8JW90"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QVELB8JW90');
    </script>
    

    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PF3D48Q9');</script>
    <!-- End Google Tag Manager -->
    

    <meta charset="UTF-8">
    <title>Peace - Zero Stress Automation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link rel="icon" type="image/png" href="/favicon.ico">

    <style>
    :root {
        --primary-color: #162741;
        --primary-header-color: #e7faff;
        --primary-text-color: #d7e7f7;
        --primary-text-color-over: #ffffff;
        --primary-link-color: #9b9bab;
        --secondary-color: #08182c;
        --secondary-text-color: #b2b2b7;
        --toc-highlight-text-color: #cceeff;
        --toc-background-color: #242d3e;
        --code-color: white;
        --code-background-color: #04091c;

        --shadow-color: #091823;
    }

    @media (prefers-color-scheme: light) {
        :root {
            --primary-color: #a8c5dd;
            --primary-header-color: #041437;
            --primary-text-color: #082837;
            --primary-text-color-over: #4488b9;
            --primary-link-color: #5b5b7b;
            --secondary-color: #e9f7ff;
            --secondary-text-color: #606080;
            --toc-highlight-text-color: #2255aa;
            --toc-background-color: white;
            --code-color: white;
            --code-background-color: #04091c;

            --shadow-color: #c9d7eb;
        }
    }
</style>

    <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="https://peace.mk/hush.css">
    <link rel="stylesheet" href="https://peace.mk/breadcrumb.css">
    
<link rel="stylesheet" href="https://peace.mk/term.css">
<link rel="stylesheet" href="https://peace.mk/card.css">

</head>

<body>
    
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-QVELB8JW90"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    

    
<header>
    

<a href="https://peace.mk/">
    <div class="logo">
        <img src="https://peace.mk/img/dove.svg" alt="logo">
        Peace
    </div>
</a>





<nav>
    
    
    <a class="nav-item subtitle-text" href="https://peace.mk/milestones/">🪨 Milestones</a>
    
    

    
    
    <a class="nav-item subtitle-text" href="https://peace.mk/blog/">🪶 Blog</a>
    

    
        
        <a class="nav-item subtitle-text" href="https://discord.gg/R6HcASbYAj" target="_blank">Discord</a>
        
        <a class="nav-item subtitle-text" href="https://github.com/azriel91/peace" target="_blank">Github</a>
        
        <a class="nav-item subtitle-text" href="/book/introduction.html" target="_blank">Book</a>
        
    
</nav>

</header>


<div class="hero">
    
<script async defer src="https://buttons.github.io/buttons.js"></script>
<section class="text-center">
    <h1 class="heading-text" style="font-size: 50px">
        Zero Stress Automation
    </h1>
    <h3 class="title-text">
        <b>Peace</b> is a framework to create empathetic and forgiving software automation.
    </h3>
    <div>
        <style type="text/css">
          .github-button {
            font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;
            font-weight: 600;
            line-height: 16px;
            vertical-align: bottom;
          }
          .github-button > span {
            height: 16px;
            padding: 5px 10px;
            font-size: 12px;
            color: #24292f;
            background-color: #ebf0f4;
            border-color: #ccd1d5;
            border-color: rgba(31,35,40,.15);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%23f6f8fa'/%3e%3cstop offset='90%25' stop-color='%23ebf0f4'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e");
            background-image: -moz-linear-gradient(top, #f6f8fa, #ebf0f4 90%);
            background-image: linear-gradient(180deg, #f6f8fa, #ebf0f4 90%);
            filter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FFF6F8FA', endColorstr='#FFEAEFF3');
          }
          .github-button > span:first-child {
            border-radius: .25em 0 0 .25em;
          }
          .github-button > span:last-child {
            border-radius: 0 .25em .25em 0;
          }
          .github-button > span:last-child::after {
            content: '??';
          }
          .github-button > span > svg {
            vertical-align: text-bottom;
          }
        </style>
        <a
          class="github-button"
          href="https://github.com/azriel91/peace"
          data-size="large"
          data-show-count="true"
          aria-label="Star azriel91/peace on GitHub"
        >
            <span>
                <svg viewBox="0 0 16 16" width="16" height="16" class="octicon octicon-mark-github" aria-hidden="true">
                    <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
                </svg>&nbsp;
                <span>Star</span>
            </span>
            <span></span>
      </a>

      <a
          class="github-button"
          href="https://github.com/azriel91/peace/fork"
          data-size="large"
          data-show-count="true"
          aria-label="Fork azriel91/peace on GitHub"
        >
            <span>
                <svg viewBox="0 0 16 16" width="16" height="16" class="octicon octicon-mark-github" aria-hidden="true">
                    <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
                </svg>&nbsp;
                <span>Fork</span>
            </span>
            <span></span>
      </a>
    </div>
</section>
<img class="hero-image" style="width: 50%" src="/img/dove.svg" />

<div class="explore-more text"
    onclick="document.scrollingElement.scroll({ top: document.querySelector('.hero').offsetHeight + 30, left: 0, behavior: 'smooth' });">
    Explore More ⇩
</div>
<style>
    .hero section {
        padding: 0 5rem;
    }

    @media screen and (max-width: 768px) {
        .hero section {
            padding: 0 2rem;
        }

        .hero-image {
            display: none
        }
    }
</style>

</div>


<script>
    const headerShadowHandler = entries => {
        const heroElementVisible = entries.find(entry => {
            return entry.isIntersecting && entry.intersectionRatio > 0.0;
        });

        const headerElement = document.querySelector("header");
        if (heroElementVisible) {
            headerElement.classList.remove("box-shadow");
        } else {
            // heroElement doesn't overlap the viewport
            // add the shadow
            if (!headerElement.classList.contains("box-shadow")) {
                headerElement.classList.add("box-shadow");
            }
        }
    };
    // Set -100px root margin to improve highlight experience.
    const heroScrollObserver = new IntersectionObserver(headerShadowHandler, {
        threshold: 0
    });
    let heroElement = document.querySelector(".hero");
    heroScrollObserver.observe(heroElement)
</script>



    <main>
        




<div class="toc">
    <div class="toc-sticky">
        
        <div class="toc-item">
            <a class="subtext" href="https://peace.mk/#the-peace-advantage">The Peace Advantage</a>
        </div>
        
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#visibility">- Visibility</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#adaptive-presentation">- Adaptive Presentation</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#empirical-usability">- Empirical Usability</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#understandable-errors">- Understandable Errors</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#execution-history">- Execution History</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#constrained-code">- Constrained Code</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#incremental-maturity">- Incremental Maturity</a>
        </div>
        
        
        
        <div class="toc-item">
            <a class="subtext" href="https://peace.mk/#building-blocks-concepts">Building Blocks &#x2F; Concepts</a>
        </div>
        
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#item-specification">- Item Specification</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#item-specification-graph">- Item Specification Graph</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#flows">- Flows</a>
        </div>
        
        
        
        <div class="toc-item">
            <a class="subtext" href="https://peace.mk/#the-peace-disadvantage">The Peace Disadvantage</a>
        </div>
        
        
        <div class="toc-item">
            <a class="subtext" href="https://peace.mk/#inspirations">Inspirations</a>
        </div>
        
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#people">- People</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#git">- Git</a>
        </div>
        
        <div class="toc-item-child">
            <a class="subtext" href="https://peace.mk/#rust">- Rust</a>
        </div>
        
        
        
    </div>
</div>



        <div class="content text">
            
            <div id="features" class="heading-text">Overview</div>
            <blockquote>
<p>🚧 <strong>Important:</strong></p>
<p>Peace is a work in progress, and this website serves to communicate the project vision.</p>
<p>Approximately 30% of the features listed on this page are implemented; a substantial amount of the completed work has been foundational and exploration.</p>
</blockquote>
<p><strong>Peace</strong> is a framework to build robust, <em>understandable</em> software automation, incrementally.</p>
<p>See <a href="/blog/checkpoint/#2-demo">Checkpoint#demo</a> for screen recordings of what's possible today.</p>
<h1 id="the-peace-advantage"><a class="zola-anchor" href="#the-peace-advantage" aria-label="Anchor link for: the-peace-advantage">The Peace Advantage</a></h1>
<h2 id="visibility"><a class="zola-anchor" href="#visibility" aria-label="Anchor link for: visibility">Visibility</a></h2>
<div class="card_set">
<div id="visibility" class="card ">
<pre class="terminal">
<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>status</span>
Using profile <span style='color:#5fff87'>development</span>
<span style='color:#5faaff'>app</span>: `web_app` out-of-date
<span style='color:#5faaff'>server</span>: not exists
<span style='color:#5faaff'>upload</span>: `web_app` not uploaded

<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>diff</span>
<span style='color:#5faaff'>app</span>: `web_app` will be compiled
<span style='color:#5faaff'>server</span>: will be launched
<span style='color:#5faaff'>upload</span>: `web_app` will be uploaded
</pre>
</div>
<div id="visibility_desc" class="card ">
<p>Automation is not just about performant execution, but understanding the state of things, and what automation would alter.</p>
<p>Understanding is not "how <em>much</em> information can be output", but "how information is <em>best</em> presented".</p>
<p>Peace presents the highest value information at a glance, with easy options to go deeper.</p>
</div>
</div>
<h2 id="adaptive-presentation"><a class="zola-anchor" href="#adaptive-presentation" aria-label="Anchor link for: adaptive-presentation">Adaptive Presentation</a></h2>
<div class="card_set">
<div id="adaptive_presentation" class="card ">
<pre class="terminal">
<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>ensure</span>  <span style='color:#7f7f7f'># interactive</span>
✅ <span style='color:#5faaff'>app   </span> <span style='color:#00af5f'>▰▰▰▰▰▰▰▰▰▰▰▰▰</span> built in 4s
🔨 <span style='color:#5faaff'>server</span> <span style='color:#0087d7'>▰▰▰▰▱▱▱▱▱▱▱▱▱</span> el: 7s, eta: 9s
⏳ <span style='color:#5faaff'>upload</span> <span style='color:#555'>▱▱▱▱▱▱▱▱▱▱▱▱▱</span> deps: [server]

* To stop, press <span style='color:#bbbbbb'>Ctrl + C</span>
* For detail, in another terminal run:
  <span style='color:#5fff87'>envman</span> <span style='color:#bbbbbb'>progress --detail</span>
</pre>
<pre class="terminal">
<span style='color:#7f7f7f'># ci</span>
server | 1/5 |  0s | vm requested
app    | 1/1 |  4s | built
server | 2/5 |  7s | os booted
server | 3/5 | 10s | pkgs installed
</pre>
</div>
<div id="adaptive_presentation_desc" class="card ">
<div id="adaptive_presentation_dot" class="static_size"></div>
<p>Peace presents information and actions adaptively:</p>
<ul>
<li>Progress presented as bars when used interactively, and single line logs in CI.</li>
<li>JSON when returned as a web response.</li>
<li>HTML elements when rendered in a browser -- WASM / web application.</li>
</ul>
</div>
</div>
<h2 id="empirical-usability"><a class="zola-anchor" href="#empirical-usability" aria-label="Anchor link for: empirical-usability">Empirical Usability</a></h2>
<div class="card_set">
<div id="empirical_usability" class="card ">
<pre class="terminal">
<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>ensure</span>
✅ <span style='color:#5faaff'>app   </span> <span style='color:#00af5f'>▰▰▰▰▰▰▰▰▰▰▰▰▰</span> built in 4s
⚠️ <span style='color:#5faaff'>server</span> <span style='color:#eecc00'>▰▰▰▰▰▰▰</span><span style='color:#664400'>▱▱▱▱▱▱</span> el: 33s, eta: 7s
⏳ <span style='color:#5faaff'>upload</span> <span style='color:#555'>▱▱▱▱▱▱▱▱▱▱▱▱▱</span> deps: [server]

* To stop, press <span style='color:#bbbbbb'>Ctrl + C</span>
* For detail, in another terminal run:
  <span style='color:#5fff87'>envman</span> <span style='color:#bbbbbb'>progress --detail</span>

<span style='color:#eecc00'>⚠️ warn:</span> <span style='color:#5faaff'>server</span> may have stalled.
  Last message:  <span style='color:#bbbbbb'>(9s ago)</span>
  <span style='color:#bbbbbb'>Running `sudo apt install -y sysstate` </span>
</pre>
</div>
<div id="empirical_usability_desc" class="card ">
<p>Peace automatically tracks execution metrics. This enables:</p>
<ul>
<li><strong>Proactive Outlier Detection:</strong> Prompts based on outliers to historical averages.</li>
<li><strong>Highest Impact Optimization:</strong> Targeting efficiency improvements at the most frequent operations, or the slowest processes.</li>
</ul>
</div>
</div>
<h2 id="understandable-errors"><a class="zola-anchor" href="#understandable-errors" aria-label="Anchor link for: understandable-errors">Understandable Errors</a></h2>
<div class="card_set">
<div id="understandable_errors" class="card ">
<pre class="terminal">
<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>ensure</span>
✅ <span style='color:#5faaff'>app   </span> <span style='color:#00af5f'>▰▰▰▰▰▰▰▰▰▰▰▰▰</span> built in 4s
❌ <span style='color:#5faaff'>server</span> <span style='color:#cc0000'>▰▰▰▰▰▰▰</span><span style='color:#331111'>▱▱▱▱▱▱</span> el: 33s, eta: 7s
🚫 <span style='color:#5faaff'>upload</span> <span style='color:#555'>▱▱▱▱▱▱▱▱▱▱▱▱▱</span> deps: [server]

Error: <span style='color:#e00'>server_package_install</span>

  <span style='color:#e00'>×</span> Server packages failed to install.
  <span style='color:#e00'>╰─▶</span> Unable to locate package sysstate
   ╭─[<span style='color:#7df'><b><u>server/config.yaml</u></b></span>:1:1]
 <span style='opacity:0.67'>1</span> │ packages:
 <span style='opacity:0.67'>2</span> │ - sysstate
   · <span style='color:#e0e'><b>  ───┬────</b></span>
   ·   <span style='color:#e0e'><b>   ╰── defined here</b></span>
   ╰────
   <span style='color:#7df'>Help:</span> Ensure spellings are correct
</pre>
</div>
<div id="understandable_errors_desc" class="card ">
<p>Peace presents errors in the much loved Rust compiler error format, through compatibility with <a href="https://github.com/zkat/miette"><code>miette</code></a> by design.</p>
<ul>
<li>The source parameter(s) that cause the error are presented to the user, reducing work to find it.</li>
<li>Suggestions on how to recover help the user move forward.</li>
</ul>
<p>People don't feel lost when what they do doesn't work; they feel lost when they don't have a way to move forward.</p>
</div>
</div>
<h2 id="execution-history"><a class="zola-anchor" href="#execution-history" aria-label="Anchor link for: execution-history">Execution History</a></h2>
<div class="card_set">
<div id="execution_history" class="card ">
<pre class="terminal">
<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>log</span>
profile: <span style='color:#5fff87'>development</span>
<span style='color:#eeeeee'>2023-01-25+1300</span> <span style='color:#bbbbbb'>(2 days ago)</span>
* ✅ <span style='color:#5faaff'>8</span> <span style='color:#bbbbbb'>15:28:20</span> envman clean
* ✅ <span style='color:#5faaff'>7</span> <span style='color:#bbbbbb'>14:56:32</span> envman ensure
* ✅ <span style='color:#5faaff'>6</span> <span style='color:#bbbbbb'>14:48:22</span> envman ensure
* ❌ <span style='color:#5faaff'>5</span> <span style='color:#bbbbbb'>14:47:19</span> envman ensure
* ✅ <span style='color:#5faaff'>4</span> <span style='color:#bbbbbb'>14:31:48</span> envman ensure
<span style='color:#eeeeee'>2023-01-24+1300</span> <span style='color:#bbbbbb'>(3 days ago)</span>
* ✅ <span style='color:#5faaff'>3</span> <span style='color:#bbbbbb'>17:05:17</span> envman clean
* ✅ <span style='color:#5faaff'>2</span> <span style='color:#bbbbbb'>16:32:08</span> envman ensure
* ✅ <span style='color:#5faaff'>1</span> <span style='color:#bbbbbb'>16:29:59</span> envman ensure
</pre>
</div>
<div id="execution_history_desc" class="card ">
<pre class="terminal">
<span class='shell'>&gt; </span><span class='cmd'>envman</span> <span class='arg'>show</span>
<span style='color:#bbbbbb'>last execution:</span> <span style='color:#5faaff'>8</span>
<span style='color:#bbbbbb'>command:</span> envman clean
<span style='color:#eeeeee'>2023-01-25T15:28:20+1300</span> <span style='color:#bbbbbb'>(2 days ago)</span>

<span style='color:#5faaff'>app</span>:    up-to-date    to not-exists
<span style='color:#5faaff'>server</span>: `abc-103abfe` to None
<span style='color:#5faaff'>upload</span>: n/a
</pre>
<p>Peace stores execution summaries in its structured form, making it easy to review what was done, or analyzed with a different presentation.</p>
</div>
</div>
<h2 id="constrained-code"><a class="zola-anchor" href="#constrained-code" aria-label="Anchor link for: constrained-code">Constrained Code</a></h2>
<div class="card_set">
<div id="constrained_code" class="card ">
<pre data-lang="rust" style="background-color:#04091c;color:#eaeaea;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#c397d8;">trait </span><span>ItemSpec {
</span><span>    </span><span style="color:#c397d8;">type </span><span>State:  </span><span style="color:#969896;">/* .. */</span><span>;
</span><span>    </span><span style="color:#c397d8;">type </span><span>StateDiff:  </span><span style="color:#969896;">/* .. */</span><span>;
</span><span>    async </span><span style="color:#c397d8;">fn </span><span style="color:#7aa6da;">state_current</span><span>(&amp;</span><span style="color:#d54e53;">self</span><span>, ..) -&gt; _;
</span><span>    async </span><span style="color:#c397d8;">fn </span><span style="color:#7aa6da;">apply_exec</span><span>(&amp;</span><span style="color:#d54e53;">self</span><span>, ..) -&gt; _;
</span><span>    </span><span style="color:#969896;">/* .. */
</span><span>}
</span><span>
</span><span style="color:#c397d8;">impl </span><span>Presentable </span><span style="color:#c397d8;">for </span><span>ServerState {
</span><span>    </span><span style="color:#c397d8;">fn </span><span style="color:#7aa6da;">present</span><span>(&amp;</span><span style="color:#d54e53;">self</span><span>, </span><span style="color:#d54e53;">presenter</span><span>: &amp;Presenter) {
</span><span>        presenter
</span><span>            .</span><span style="color:#70c0b1;">name</span><span>(</span><span style="color:#d54e53;">self</span><span>.server_name)
</span><span>            .</span><span style="color:#70c0b1;">desc</span><span>(</span><span style="color:#d54e53;">self</span><span>.server_status)
</span><span>    }
</span><span>}
</span></code></pre>
</div>
<div id="constrained_code_desc" class="card ">
<p>Compile time constraints <small>(with all features)</small> means correctness, safety, and ease-of-use by design:</p>
<ul>
<li>For every item creation, there is a clean up.</li>
<li>Every command has a target state, so <em>multiple executions is not dangerous</em>.</li>
<li>Item states must be:
<ul>
<li><strong>Fetchable:</strong> For idempotence, this allows automation to skip to where it stopped.</li>
<li><strong>Presentable:</strong> In short for comprehension, in detail for informed decisions.</li>
</ul>
</li>
<li>Constraints enable Peace to provide common flows, and adapt information for each target.</li>
</ul>
<p><em>⛓️ It is these constraints that give us freedom</em></p>
</div>
</div>
<h2 id="incremental-maturity"><a class="zola-anchor" href="#incremental-maturity" aria-label="Anchor link for: incremental-maturity">Incremental Maturity</a></h2>
<div class="card_set">
<div id="constrained_code" class="card ">
<pre data-lang="toml" style="background-color:#04091c;color:#eaeaea;" class="language-toml "><code class="language-toml" data-lang="toml"><span>[dependencies.peace]
</span><span style="color:#d54e53;">version </span><span>= &quot;</span><span style="color:#b9ca4a;">0.0.?</span><span>&quot;
</span><span style="color:#d54e53;">features </span><span>= [
</span><span>    &quot;</span><span style="color:#b9ca4a;">error_reporting</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#b9ca4a;">output_colorized</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#b9ca4a;">output_json</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#b9ca4a;">output_progress</span><span>&quot;,
</span><span>    &quot;</span><span style="color:#b9ca4a;">state_current</span><span>&quot;,  </span><span style="color:#969896;"># 🚧
</span><span>    &quot;</span><span style="color:#b9ca4a;">state_goal</span><span>&quot;,     </span><span style="color:#969896;"># 🚧
</span><span>    &quot;</span><span style="color:#b9ca4a;">state_diff</span><span>&quot;,     </span><span style="color:#969896;"># 🚧
</span><span>    </span><span style="color:#969896;"># ..
</span><span>]
</span></code></pre>
</div>
<div id="constrained_code_desc" class="card ">
<p>🐚 Instead of writing shell scripts, then transitioning to larger tools as complexity grows, existing logic is extended by enabling features in the Peace crate.</p>
<pre data-lang="diff" style="background-color:#04091c;color:#eaeaea;" class="language-diff "><code class="language-diff" data-lang="diff"><span> async fn apply_exec(
</span><span>     state_current: Self::State,
</span><span>     state_goal: Self::State,
</span><span style="color:#b9ca4a;">+    state_diff: Self::StateDiff,
</span><span> ) -&gt; Result&lt;(), E&gt;
</span></code></pre>
<p>🦀 <em>Compilation errors</em> show the code that needs updating, you don't have to work to find out.</p>
</div>
</div>
<h1 id="building-blocks-concepts"><a class="zola-anchor" href="#building-blocks-concepts" aria-label="Anchor link for: building-blocks-concepts">Building Blocks / Concepts</a></h1>
<h2 id="item-specification"><a class="zola-anchor" href="#item-specification" aria-label="Anchor link for: item-specification">Item Specification</a></h2>
<div class="card_set">
<div id="item_spec_dot" class="card static_size">
</div>
<div id="item_spec_desc" class="card ">
<p>A collection of functions to manage an <em>item</em>, e.g. application compilation, file upload, server existence.</p>
<p>Base functions:</p>
<ul>
<li><strong>Current:</strong> Retrieve the current state.</li>
<li><strong>Goal:</strong> Retrieve the goal state.</li>
<li><strong>Diff:</strong> Diff the current and goal states.</li>
<li><strong>Ensure:</strong> Change the state from current to goal.</li>
<li><strong>Clean:</strong> Clean up the item.</li>
<li>more to come</li>
</ul>
</div>
</div>
<h2 id="item-specification-graph"><a class="zola-anchor" href="#item-specification-graph" aria-label="Anchor link for: item-specification-graph">Item Specification Graph</a></h2>
<div class="card_set">
<div id="item_spec_graph_dot" class="card static_size">
</div>
<div id="item_spec_graph_desc" class="card ">
<p>A <a href="https://en.wikipedia.org/wiki/Directed_graph">directed graph</a> of <strong>Item Spec</strong>s. Edges indicate forward execution order.</p>
<p>Functions can be executed in parallel when their predecessors' executions are complete.</p>
</div>
</div>
<h2 id="flows"><a class="zola-anchor" href="#flows" aria-label="Anchor link for: flows">Flows</a></h2>
<div class="card_set">
<div id="flows_dot" class="card static_size">
</div>
<div id="flows_desc" class="card ">
<p>A flow is a process that fulfills a business question or intent. Within a flow, the appropriate Item Specification <em>function</em>(s) are invoked for each <em>item</em>.</p>
<p>Examples:</p>
<ul>
<li>Discover and show the state of all items.</li>
<li>Show what would change.</li>
<li>Execute the automation.</li>
</ul>
<p>Advanced flows may invert execution direction:</p>
<ul>
<li><code>clean</code> cleans up items in reverse order.</li>
<li><code>ensure</code> on a <em>subset</em> of items may forward alter some items, and clean others.</li>
</ul>
</div>
</div>
<h1 id="the-peace-disadvantage"><a class="zola-anchor" href="#the-peace-disadvantage" aria-label="Anchor link for: the-peace-disadvantage">The Peace Disadvantage</a></h1>
<p><em>Reasons you would <strong>not</strong> use Peace</em></p>
<ol>
<li>
<p>Higher automation maturity levels implies higher cost of development:</p>
<p>Low maturity automation can evolve faster as it has fewer constraints. This is sustainable when:</p>
<ul>
<li>The number of users is not high.</li>
<li>The cost of higher resilience and usability is not justified.</li>
</ul>
</li>
<li>
<p>Rust is not as common a skillset as other languages, and requires substantial time to learn.</p>
</li>
</ol>
<h1 id="inspirations"><a class="zola-anchor" href="#inspirations" aria-label="Anchor link for: inspirations">Inspirations</a></h1>
<h2 id="people"><a class="zola-anchor" href="#people" aria-label="Anchor link for: people">People</a></h2>
<p>Through working with many people across different roles, it is apparent that a lot of issues when working with automation can be solved through clearer and more understandable communication – a dimension that deserves more attention in automation tooling.</p>
<h2 id="git"><a class="zola-anchor" href="#git" aria-label="Anchor link for: git">Git</a></h2>
<p>Git allows one to show the state of local and remote repositories, diff them, before committing and pushing the changes. Pushes are atomic and idempotent, meaning running the same command multiple times, whether or not the operation succeeded prior, has the same result.</p>
<p>The idea spawned from this is, instead of file content as the state, and patches being the diff, why not something – <em>anything</em> – user defined?</p>
<h2 id="rust"><a class="zola-anchor" href="#rust" aria-label="Anchor link for: rust">Rust</a></h2>
<p>Rust's commitment to helping people learn, with clear explanations and examples, demonstrates that taking care of people is a priority that should not be left behind amidst technical advancement.</p>
<script type="module">
    import { Graphviz } from "https://cdn.jsdelivr.net/npm/@hpcc-js/wasm/dist/graphviz.js";

    const graphviz = await Graphviz.load();
    const item_spec_dot = `digraph G {
        graph [
            penwidth  = 0
            nodesep   = 0.5
            ranksep   = 0.6
            bgcolor   = "transparent"
            fontcolor = "#7f7f7f"
            splines   = line
            rankdir   = LR
        ]
        node [
            penwidth  = 2
            fontcolor = "#111111"
            fontname  = "helvetica"
            fontsize  = 12
            shape     = "rectangle"
            style     = "filled,rounded"
            margin    = 0.0
            color     = "#9999aa"
            fillcolor = "#ddddf5"
        ]
        edge [
            penwidth  = 2
            arrowsize = 0.7
            color     = "#7f7f7f"
            fontcolor = "#7f7f7f"
        ]

        a [
            shape="none"
            bgcolor="ddddf5"
            label = <<table
                style="rounded"
                border="2"
                cellborder="0"
                cellpadding="7"
                cellspacing="0"
                >
            <tr>
                <td colspan="2"><b>a:</b>&nbsp;Application Compilation</td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#ddddaa">Current State</td>
                <vr />
                <td align="left" balign="left">⚫ Not exists<br/>🔵 Out-of-date<br/>⚫ Up-to-date</td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#aaddaa">Goal State</td>
                <vr />
                <td align="left" balign="left">⚫ Not exists<br/>⚫ Out-of-date<br/>🔵 Up-to-date</td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#88cc88">Ensure Diff</td>
                <vr />
                <td align="left" balign="left">Application will be recompiled<br/>to 'target/debug/app'</td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#88cc88">Ensure Exec</td>
                <vr />
                <td align="left" balign="left">Run <font face="monospace" point-size="12">cargo build</font></td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#ccaadd">Clean State</td>
                <vr />
                <td align="left" balign="left">🔵 Not exists<br/>⚫ Out-of-date<br/>⚫ Up-to-date</td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#bb88cc">Clean Diff</td>
                <vr />
                <td align="left" balign="left">'target/debug/app' will be deleted</td>
            </tr>
            <hr/>
            <tr>
                <td align="left" balign="left" bgcolor="#bb88cc">Clean Exec</td>
                <vr />
                <td align="left" balign="left">Run <font face="monospace" point-size="12">cargo clean</font></td>
            </tr>
        </table>>]
    }`;
    // const item_spec_svg = graphviz.dot(item_spec_dot);
    document.getElementById("item_spec_dot").innerHTML = graphviz.layout(item_spec_dot, "svg", "dot");

    const item_spec_graph_dot = `digraph G {
        graph [
            penwidth  = 0
            nodesep   = 0.5
            ranksep   = 0.6
            bgcolor   = "transparent"
            fontcolor = "#7f7f7f"
            splines   = line
            rankdir   = LR
        ]
        node [
            penwidth  = 3
            fontcolor = "#111111"
            fontname  = "monospace"
            fontsize  = 12
            shape     = "circle"
            style     = "filled"
            width     = 0.6
            height    = 0.6
            margin    = 0.04
            color     = "#9999aa"
            fillcolor = "#ddddf5"
        ]
        edge [
            penwidth  = 2
            arrowsize = 0.7
            color     = "#7f7f7f"
            fontcolor = "#7f7f7f"
        ]

        a [label = <<b>a</b>>]
        b [label = <<b>b</b>>]
        c [label = <<b>c</b>>]
        d [label = <<b>d</b>>]
        e [label = <<b>e</b>>]

        a -> b
        a -> c
        b -> d
        b -> e
        c -> e
    }`;
    document.getElementById("item_spec_graph_dot").innerHTML = graphviz.layout(item_spec_graph_dot, "svg", "dot");

    const flows_dot = `digraph G {
        graph [
            penwidth  = 0
            nodesep   = 0.1
            ranksep   = 0.3
            bgcolor   = "transparent"
            fontname  = "helvetica"
            fontsize  = 12
            fontcolor = "#9f9f9f"
            splines   = line
            rankdir   = LR
        ]
        node [
            penwidth  = 4
            fontcolor = "#111111"
            fontname  = "monospace"
            fontsize  = 9
            shape     = "circle"
            style     = "filled"
            width     = 0.25
            height    = 0.25
            margin    = 0.04
            color     = "#9999aa"
            fillcolor = "#ddddf5"
        ]
        edge [
            penwidth  = 1
            arrowsize = 0.5
            color     = "#7f7f7f"
            fontcolor = "#7f7f7f"
        ]

        subgraph cluster_ensure_exec {
            label = "ensure"

            node [color="#449966" fillcolor="#88cc88"]

            ensure_exec_a [label = ""]
            ensure_exec_b [label = ""]
            ensure_exec_c [label = ""]
            ensure_exec_d [label = "" fillcolor="#ddddaa" style="dashed,filled"]
            ensure_exec_e [label = "" fillcolor="#ddddaa" style="dashed,filled"]

            ensure_exec_a -> ensure_exec_b
            ensure_exec_a -> ensure_exec_c
            ensure_exec_b -> ensure_exec_d
            ensure_exec_b -> ensure_exec_e
            ensure_exec_c -> ensure_exec_e
        }

        subgraph cluster_clean_exec {
            label = "clean"

            node [color="#884499" fillcolor="#ccaadd"]
            edge [dir = back]

            clean_exec_a [label = "" color="#aaaa55" fillcolor="#ddddaa"]
            clean_exec_b [label = "" fillcolor="#ddddaa" style="dashed,filled"]
            clean_exec_c [label = "" fillcolor="#ddddaa" style="dashed,filled"]
            clean_exec_d [label = ""]
            clean_exec_e [label = ""]

            clean_exec_a -> clean_exec_b
            clean_exec_a -> clean_exec_c
            clean_exec_b -> clean_exec_d
            clean_exec_b -> clean_exec_e
            clean_exec_c -> clean_exec_e
        }

        subgraph cluster_state_current {
            label = "current state"

            node [color="#aaaa55" fillcolor="#ddddaa"]

            state_current_a [label = ""]
            state_current_b [label = ""]
            state_current_c [label = ""]
            state_current_d [label = ""]
            state_current_e [label = ""]

            state_current_a -> state_current_b
            state_current_a -> state_current_c
            state_current_b -> state_current_d
            state_current_b -> state_current_e
            state_current_c -> state_current_e
        }

        subgraph cluster_state_goal {
            label = "goal state"

            node [color="#449966" fillcolor="#ddddaa"]

            state_goal_a [label = ""]
            state_goal_b [label = ""]
            state_goal_c [label = ""]
            state_goal_d [label = ""]
            state_goal_e [label = ""]

            state_goal_a -> state_goal_b [weight = 4]
            state_goal_a -> state_goal_c [weight = 3]
            state_goal_b -> state_goal_d
            state_goal_b -> state_goal_e
            state_goal_c -> state_goal_e
        }

        subgraph cluster_state_clean {
            label = "clean state"

            node [color="#884499" fillcolor="#ddddaa"]
            edge [dir = back]

            state_clean_a [label = ""]
            state_clean_b [label = ""]
            state_clean_c [label = ""]
            state_clean_d [label = ""]
            state_clean_e [label = ""]

            state_clean_a -> state_clean_b [weight = 4]
            state_clean_a -> state_clean_c [weight = 3]
            state_clean_b -> state_clean_d
            state_clean_b -> state_clean_e
            state_clean_c -> state_clean_e
        }

        state_current_a -> state_goal_a [style = "invis"]
        state_current_a -> state_clean_a [style = "invis"]
        state_goal_d -> ensure_exec_a [style = "invis"]
        state_goal_e -> ensure_exec_a [style = "invis"]
        state_clean_d -> clean_exec_a [style = "invis"]
        state_clean_e -> clean_exec_a [style = "invis"]
    }`;
    document.getElementById("flows_dot").insertAdjacentHTML(
        "afterbegin",
        graphviz.layout(flows_dot, "svg", "dot")
    );

    const adaptive_presentation_dot = `digraph G {
        graph [
            penwidth  = 0
            nodesep   = 0.0
            ranksep   = 0.3
            bgcolor   = "transparent"
            fontname  = "helvetica"
            fontcolor = "#7f7f7f"
            splines   = line
            rankdir   = LR
        ]
        node [
            penwidth  = 3
            fontcolor = "#111111"
            fontname  = "monospace"
            fontsize  = 12
            shape     = "circle"
            style     = "filled"
            width     = 0.3
            height    = 0.3
            margin    = 0.04
            color     = "#9999aa"
            fillcolor = "#ddddf5"
        ]
        edge [
            penwidth  = 2
            arrowsize = 0.7
            color     = "#7f7f7f"
            fontcolor = "#7f7f7f"
        ]

        subgraph cluster_a {
            a [color="#449966" fillcolor="#88cc88" label = <<b>a</b>>]
            a_text [shape="plain" style="none" fontcolor="#7f7f7f" label = <app>]
        }
        subgraph cluster_b {
            margin = 0

            b [color="#446699" fillcolor="#88aacc" label = <<b>b</b>>]
            b_text [shape="plain" style="none" fontcolor="#7f7f7f" label = <server>]
        }
        subgraph cluster_c {
            c [label = <<b>c</b>>]
            c_text [shape="plain" style="none" fontcolor="#7f7f7f" label = <upload>]
        }

        b_tooltip [
            penwidth  = 2
            shape     = "rectangle"
            style     = "rounded,filled"
            color     = "#446699"
            margin    = 0.1
            fontname  = "helvetica"
            fillcolor ="#ccccdd"
            label = <<b>Elapsed:</b>&nbsp;&nbsp;7s<br align="left"/>
<b>ETA:</b>&nbsp;9s<br align="left"/>
<b>Message:</b>&nbsp;OS booted<br align="left"/>>
        ]

        a -> b
        b -> c

        a -> b_tooltip [style = "invis"]
    }`;
    document.getElementById("adaptive_presentation_dot").innerHTML = graphviz.layout(adaptive_presentation_dot, "svg", "dot");
</script>

            
        </div>

        <!-- For spacing -->
        
        <div class="sidebar"></div>
        
    </main>

    
<footer>
    <small class="subtext">
        <a href="https://peace.mk">peace.mk</a> © 2025
    </small>
</footer>

</body>

<script>
    const scrollHandler = entries => {
        // Find the first entry which intersecting and ratio > 0.9 to highlight.
        let entry = entries.find(entry => {
            return entry.isIntersecting && entry.intersectionRatio > 0.9;
        });
        if (!entry) return;

        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });

        // let url = new URL(`#${entry.target.id}`);
        let link = document.querySelector(`.toc a[href$="${decodeURIComponent(`#${entry.target.id}`)}"]`)
        if (link) {
            link.classList.add("active");
            link.scrollIntoView({ behavior: "auto", block: "nearest" });
        }
    };
    // Set -100px root margin to improve highlight experience.
    const observer = new IntersectionObserver(scrollHandler, { threshold: 1 });
    let items = document.querySelectorAll('h1,h2,h3,h4,h5,h6');
    items.forEach(item => observer.observe(item));
</script>

</html>
